<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<div class="row">
		<div class="card">
			<div class="card-header">
				<h4 class="card-title">즐겨찾기</h4>
				<hr>
			</div>
			<div class="card-content">
				<table>
					<tbody id="bmList">
					</tbody>
				</table>
				<div class="card-content" id="bmList"></div>
			</div>
		</div>
		<script th:inline="javascript">
/*<![CDATA[*/
    $.ajax("bmList")
    .done(result => {
        console.log(result);
        for (let i = 0; i < result.length; i++) {
            let tr =  $('<tr/>').attr('onclick', 'trHref()');
						tr.append($('<td/>').text('등록일자 : ' + result[i].regDt))
                    .append($('<td/>').text('즐겨찾기 번호 : ' + result[i].bmUniNo))
            
            if (result[i].brdUniNo != null) {
            	  // 게시글 즐겨찾기 일때
                tr.append($('<td/>').text('게시글 번호 : '))
                    .append($('<span/>').text(result[i].brdUniNo))
                    .append($('<hr>'));
            } else if (result[i].chatrNo != null) {
                // 채팅 즐겨찾기 일때
						tr.append($('<td/>').text('채팅방 번호 : ' +result[i].chatrNo))
                        .append($('<hr>'))
            } else if (result[i].attNo != null) {
                // 첨부파일 즐겨찾기 일때
                        tr.append($('<td/>').text('파일 번호 : ' +result[i].attNo))
                        .append($('<hr>'))
            }
                	$('#bmList').append(tr)
        }
    });
/*]]>*/
</script>
		<script>
	function trHref(){
		let brdUniNo = $(event.target).closest('tr').children().eq(2).text();
		location.href='/modu/postList?brdUniNo='+ brdUniNo;
	}
</script>
</body>
</html>